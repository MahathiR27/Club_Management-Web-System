<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Club Management - Login</title>
    <link rel="stylesheet" href="login.css"> 
    <link rel="icon" type="image/svg+xml"
      href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="%234fb8fa" d="M480-440q58 0 99-41t41-99q0-58-41-99t-99-41q-58 0-99 41t-41 99q0 58 41 99t99 41ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-46q-54-53-125.5-83.5T480-360q-83 0-154.5 30.5T200-246v46Z"/></svg>'>

</head>
<body>
    <div class="login-container">
        <div class="login-form">
            <h2>Club Management System</h2>
            <h3>Login</h3>
            <form id="loginForm" onsubmit="event.preventDefault(); handle_login(event);">
                <div class="input-group">
                    <label for="userid">User ID:</label>
                    <input type="text" id="userid" name="userid" placeholder="23301451" required>
                </div>
                <div class="input-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <div id="loginErrorText" class="otp-status-text" style="display: none; color: #e74c3c; margin: 10px 0; text-align: center;">Invalid User ID or Password.</div>
                <button type="submit" class="login-btn">Login</button>
            </form>
            <button type="button" class="register-btn" onclick="handle_register()">Register Now</button>
            <div id="message" class="message"></div>
        </div>
    </div>

    <!-- Pending Status Window -->
    <div id="pendingOverlay" class="pending-overlay">
        <div class="pending-window">
            <div class="pending-icon">‚è≥</div>
            <div class="pending-title">
                Account Status: Pending
            </div>
            <div class="pending-message">
                <h4>Account Under Review</h4>
                <p>You will be informed via Email as soon as you are authorised</p>
            </div>
            <button class="pending-btn" onclick="close_pending()">Got it!</button>
        </div>
    </div>

    <!-- Registration Popup Window -->
    <div id="registrationOverlay" class="registration-overlay">
        <div class="registration-window">
            <div class="registration-header">
                <h3>Register Account</h3>
                <button onclick="close_registration()" class="close-btn">√ó</button>
            </div>
            <div class="registration-content">
                <div class="input-group">
                    <label for="regEmail">Email Address:</label>
                    <input type="email" id="regEmail" name="regEmail" placeholder="your.email@example.com" required>
                    <div id="otpStatusText" class="otp-status-text">OTP sent to email</div>
                    <div id="emailErrorText" class="otp-status-text" style="display: none; color: #e74c3c;">Please enter a valid BRACU G-Suit Email Address</div>
                </div>
                <button type="button" class="get-otp-btn" onclick="sendOTP()">Get OTP</button>
                
                <div class="input-group" id="otpGroup" style="display: none;">
                    <label for="otpCode">Enter OTP:</label>
                    <input type="text" id="otpCode" name="otpCode" placeholder="123456" maxlength="6" required>
                    <div id="otpErrorText" class="otp-status-text" style="display: none; color: #e74c3c;">Please enter the OTP</div>
                </div>
                <button type="button" class="verify-btn" id="verifyBtn" onclick="verify_otp()" style="display: none;">Verify OTP</button>
                
                <div id="registrationMessage" class="message"></div>
            </div>
        </div>
    </div>

    <!-- Registration Form 2 Popup Window -->
    <div id="register2Overlay" class="registration-overlay">
        <div class="registration-window" style="max-width: 500px;">
            <div class="registration-header">
                <h3>Complete Registration</h3>
                <button onclick="close_register2()" class="close-btn">√ó</button>
            </div>
            <div class="registration-content">
                <form onsubmit="event.preventDefault(); handle_final_registration();">
                    <input type="hidden" id="reg2Email" name="reg2Email">
                    
                    <div class="input-group">
                        <label for="reg2Name">Full Name:</label>
                        <input type="text" id="reg2Name" name="reg2Name" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2StudentId">Student ID:</label>
                        <input type="text" id="reg2StudentId" name="reg2StudentId" placeholder="23301451" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2Phone">Phone Number:</label>
                        <input type="tel" id="reg2Phone" name="reg2Phone" placeholder="01712345678" maxlength="11" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2Department">Department:</label>
                        <select id="reg2Department" name="reg2Department" required>
                            <option value="">Select Department</option>
                            <option value="CSE">CSE - Computer Science & Engineering</option>
                            <option value="EEE">EEE - Electrical & Electronic Engineering</option>
                            <option value="MNS">MNS - Mathematics & Natural Sciences</option>
                            <option value="PHR">PHR - Pharmacy</option>
                            <option value="LLB">LLB - Law</option>
                            <option value="ARC">ARC - Architecture</option>
                            <option value="BBS">BBS - Business Studies</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2AdmissionSem">Admission Semester:</label>
                        <select id="reg2AdmissionSem" name="reg2AdmissionSem" required>
                            <option value="">Select Admission Semester</option>
                            <option value="Spring 2022">Spring 2022</option>
                            <option value="Summer 2022">Summer 2022</option>
                            <option value="Fall 2022">Fall 2022</option>
                            <option value="Spring 2023">Spring 2023</option>
                            <option value="Summer 2023">Summer 2023</option>
                            <option value="Fall 2023">Fall 2023</option>
                            <option value="Spring 2024">Spring 2024</option>
                            <option value="Summer 2024">Summer 2024</option>
                            <option value="Fall 2024">Fall 2024</option>
                            <option value="Spring 2025">Spring 2025</option>
                            <option value="Summer 2025">Summer 2025</option>
                            <option value="Fall 2025">Fall 2025</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2Password">Password:</label>
                        <input type="password" id="reg2Password" name="reg2Password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg2ConfirmPassword">Confirm Password:</label>
                        <input type="password" id="reg2ConfirmPassword" name="reg2ConfirmPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    
                    <div id="register2ErrorText" class="otp-status-text" style="display: none; color: #e74c3c; margin: 10px 0; text-align: center;"></div>
                    
                    <button type="submit" class="register-btn">Complete Registration</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Registration Confirmation Popup -->
    <div id="confirmationOverlay" class="registration-overlay">
        <div class="registration-window" style="max-width: 400px; text-align: center;">
            <div class="registration-header">
                <h3>‚úÖ Successfully Registered!</h3>
            </div>
            <div class="registration-content">
                <div style="margin: 20px 0;">
                    <div style="font-size: 60px; margin-bottom: 15px;">üéâ</div>
                    <p style="margin-bottom: 20px;">Account under review. You will be mailed when approved.</p>
                </div>
                <button type="button" class="register-btn" onclick="close_confirmation_popup()" style="background-color: #27ae60; color: white; border: none; outline: none;">
                    Got it, Thanks!
                </button>
            </div>
        </div>
    </div>

    <script src="login.js"></script>
</body>
</html>